/*!1.0.2 kooboy_li@163.com*/
let e=0,t="",r=[],i=window,n=void 0,o=document,a=i.setTimeout,f=encodeURIComponent;function l(){}let s=JSON.stringify,h=o.body,d=i.performance,u=d.now.bind(d),c="\x1e",p="prototype",b="params",m="path",g=Object[p].toString,w=e=>g.call(e).slice(8,-1),v=e=>"Object"==w(e),y=Array.isArray,k=t=>(t||"_")+e++,x=e=>o.getElementById(e),V=(e,t)=>e.innerHTML=t,$=k(),j={rootId:k(),defaultView:$,error(e){throw e}},I=e=>!e||"object"!=typeof e,O=(e,t,r)=>{if(e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},{assign:E,keys:T,hasOwnProperty:U}=Object,A=o.head,C=h.getAttribute,N=(e,t)=>C.call(e,t),S=(e,t,r)=>{t&&!S[e]&&(S[e]=1,r=o.createElement("style"),V(r,t),A.appendChild(r))},Z=(e,t,i,n,o)=>{for(o of(y(e)||(e=[e]),y(t)||(t=t&&[t]||r),e))try{n=o&&o.apply(i,t)}catch(e){j.error(e)}return n},_=(e,t)=>e&&U.call(e,t),B=(e,r)=>{let i,n;if(I(r))(i=r+t)[0]==c&&(r=e[i]);else for(i in r)n=r[i],n=B(e,n),r[i]=n;return r},L=(e,t)=>t.a-e.a||t.b-e.b;function q(e,t,r,i){(i=this).a=[],i.b=t||5,i.c=i.b+(e||20),i.d=r}E(q[p],{get(t){let r=this.a[c+t];return r&&(r.a++,r.b=e++,r=r.c),r},set(t,r){let i=this,n=i.a,o=c+t,a=n[o],f=i.b;if(!a){if(n.length>=i.c)for(n.sort(L);f--;)(a=n.pop()).a>0&&i.del(a.o);a={d:t},n.push(a),n[o]=a}a.c=r,a.a=1,a.b=e++},del(e){e=c+e;let r=this.a,i=r[e],n=this.d;i&&(i.a=-1,i.c=t,delete r[e],n&&Z(n,i.d))},has(e){return _(this.a,c+e)}});let H,P={bubbles:!0,cancelable:!0},R=[],M=(e,t,r,i,n,o)=>{let a={a:i,b:r,c:t,d:e,e(e){i?Z(r,e,o):r(e)}};R.push(a),e.addEventListener(t,a.e,n)},W=(e,t,r,i,n)=>{for(let o,a=R.length;a--;)if((o=R[a]).c==t&&o.a==i&&o.d==e&&o.b===r){R.splice(a,1),e.removeEventListener(t,o.e,n);break}},D=new q,F=e=>{let r,i,n,o,a,f=D.get(e);if(!f){if(o={},-1==(a=e.indexOf("?")))r=e;else if(r=e.substring(0,a),e=e.substring(a+1))for(a of e.split("&"))[i,n]=a.split("="),o[i]=decodeURIComponent(n||t);D.set(e,f={a:r,b:o})}return{path:f.a,params:E({},f.b)}},J=(e,r,i)=>{let n,o,a,l=[];for(o in r)n=r[o]+t,(!i||n||_(i,o))&&(n=f(n),l.push(a=o+"="+n));return a&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+l.join("&")),e},Q=new q,z=(e,t,r)=>(Q.has(e)?r=Q.get(e):(r=Z(Function(`return ${e}`)),e.indexOf(c)>-1?B(t,r):Q.set(e,r)),r),G=0,K=[],X=()=>{let e,t=u();for(;;){if(!(e=K[G-1])){K.length=G=0;break}if(e.apply(K[G],K[G+1]),G+=3,u()-t>32&&K.length>G){a(X);break}}},Y=(e,t,r)=>{K.push(e,r,t),G||(G=1,a(X))},ee=(e,t)=>{if(e)if($==e)H||(H=gt.extend()),t(H);else{y(e)||(e=[e]);let r,i,n,o=[],a=[],f=j.paths;for(r of e)(i=r.indexOf("/"))>-1&&!r.startsWith(".")&&(n=r.slice(0,i),r=r.slice(i+1),r=f[n]+r),r.endsWith(".js")||(r+=".js"),o.push(import(r));Promise.all(o).then(e=>{for(r of e)a.push(r.default);Y(t,a)})}else t()};function te(){}let re=(e,t,r,i,n)=>(te[p]=t[p],n=new te,E(n,r),E(e,i),n.constructor=e,e[p]=n,e),ie=e=>e;let ne,oe,ae,fe,le,se,he={fire(e,r){let i,n,o=this,a=o[c+e],f=0;if(r||(r={}),r.type=e,a)for(i=a.length;f<i;f++)(n=a[f]).f?(n.x=1,Z(n.f,r,o),n.x=t):n.x||(a.splice(f--,1),i--);return(a=o[`on${e}`])&&Z(a,r,o),o},on(e,t){let r=c+e;return(this[r]||(this[r]=[])).push({f:t}),this},off(e,r){let i,n=c+e,o=this,a=o[n];if(r){if(a)for(i of a)if(i.f==r){i.f=t;break}}else delete o[n],delete o[`on${e}`];return o}},de=(e,t,r,i,n,o)=>{(e=J(e,t,o))!=r.srcHash&&(be=n,((e,t)=>{e!=pe.hash&&(t?pe.replace("#"+e):pe.hash=e)})(e,i))},ue=new q,ce=new q,pe=location,be=0,me={query:{},[b]:{},href:t},ge=/(?:^.*\/\/[^\/]+|#.*$)/gi,we=/^[^#]*#?/;function ve(e,r){return this[b][e]||r!==n&&r||t}let ye,ke=e=>{e=e||pe.href;let r,i,n,o,a,f=ue.get(e);return f||(r=e.replace(ge,t),i=e.replace(we,t),f={get:ve,href:e,srcQuery:r,srcHash:i,query:n=F(r),hash:o=F(i),params:a=E({},n[b],o[b])},wt&&(((e,t)=>{if(oe||(oe=j.routes||{},ae=j.unmatchView,fe=j.defaultView,le=F(j.defaultPath||"/"),se=j.rewrite),!e.view){let r=e.hash.path;r||(r=le.path,E(e[b],le[b])),se&&(r=se(r,e[b],oe)),t=oe[r]||ae||fe,e.path=r,e.view=t,v(t)&&E(e,t)}})(f),ue.set(e,f))),f},xe=()=>{let e=ke(),t=((e,t)=>{let r=e.href,i=t.href,n=r+c+i,o=ce.get(n);if(!o){let i,a;o={params:a={},force:!r};let f,l=e[b],s=t[b],h=T(l).concat(T(s)),d=e=>{let t=l[e],r=s[e];t!=r&&(a[e]={from:t,to:r},i=1)};for(f of h)d(f);l=e,s=t,a=o,d(m),d("view"),ce.set(n,o={a:i,b:o})}return o})(me,me=e);return!be&&t.a&&((ne=t.b).path&&(e=e.title||j.title)&&(o.title=e),Ve.fire("changed",ne)),be=0,ne},Ve=E({parse:ke,diff:xe,to(e,r,i,n){!r&&v(e)&&(r=e,e=t);let o=F(e),a=o[b],f=o.path,l=me.path,s=me[b],h=me.query[b];if(E(a,r),f)for(l in h)_(a,l)||(a[l]=t);else s&&(f=l,a=E({},s,a));de(f,a,me,i,n,h)}},he),$e=0,je=(e,t,r,i)=>{if(e&&e.a!=$e&&(t=e.b)&&t.b)for(i of((e=>{let t,r,i,n=e.a;if(n.a&&(n.b&&(t=ne.path),!t&&n.c))for(r of(i=ne[b],n.c))if(t=_(i,r))break;return t})(t)&&t.c(),e.children()))Y(je,[Oe[i]])},Ie=(t,r,i)=>{r=Te(),(i=t.view)?r.mountView(i.to):($e=e++,je(r))},Oe={},Ee=(e,t,r,i)=>{t.indexOf(c)>0&&(i=Oe[e])&&B(i.b.d,r)},Te=(e,t)=>(ye||(e=j.rootId,(t=x(e))||(t=h),ye=new Ne(t)),ye),Ue=(e,t)=>{_(Oe,e)||(Oe[e]=t,Ne.fire("add",{vframe:t}))},Ae=(e,t,r)=>{for(t=e.d;t.length;)(r=t.shift()).r||Y(e.invoke,[r.n,r.a],e),delete t[r.k]},Ce=e=>e.b||(e.b=k());function Ne(e,t){let r=this,i=Ce(e);r.id=i,r.root=e,r.e=1,r.c={},r.pId=t,r.d=[],Ue(i,r)}E(Ne,{root:()=>ye,all:()=>Oe,byId:e=>Oe[e],byNode:e=>Oe[e.b]},he),E(Ne[p],{mountView(e,t){let r,i,n,o,a,f=this,{id:l,root:s,pId:h}=f;!f.f&&s&&(f.f=1,f.g=s.innerHTML),f.unmountView(),s&&e&&(r=F(e),n=r.path,f.path=e,o=r[b],Ee(h,e,o),f.h=n,E(o,t),i=f.e,ee(n,e=>{if(i==f.e){if(!e)return j.error(Error(`${l} cannot load:${n}`));a=mt(e),n=new e(l,s,f,o,a),f.b=n,f.a=$e,ut(n),Z(n.init,o,n),Y(()=>{n.c(),n.tmpl||(f.f=0,n.h||n.endUpdate())})}}))},unmountView(){let e=this,{b:t,root:r}=e;e.d=[],t&&(e.unmountZone(),e.b=0,t.b&&((e=>{e[c+"b"]=0,e[c+"a"]=1})(t),t.b=0,t.fire("destroy"),ut(t,1),t.owner=t.root=null),r&&e.f&&V(r,e.g)),e.e++},mountVframe(e,t,r){let i,n=this,o=n.id,a=n.c,f=Ce(e);return(i=Oe[f])||(_(a,f)||(n.i=0),a[f]=f,i=new Ne(e,o)),i.mountView(t,r),i},mountZone(e){let t,r=this,i=(e=e||r.root).querySelectorAll("[mx-view]");for(t of i)t.a||(t.a=1,r.mountVframe(t,N(t,"mx-view")))},unmountVframe(e,t){let r,i;var n,o;e=e?this.c[t?e:e.b]:this.id,(r=Oe[e])&&(r.unmountView(),i=r.pId,(o=Oe[n=e])&&(delete Oe[n],o.root.a=0,Ne.fire("remove",{vframe:o}),o.id=o.root=o.pId=o.c=null),(r=Oe[i])&&_(r.c,e)&&(delete r.c[e],r.i=0))},unmountZone(e){let t,r,i,n=this;for(t in n.c)(i=e?(r=Oe[t])&&O(r.root,e):1)&&n.unmountVframe(t,1)},children(e){return(e=this).i||(e.i=T(e.c))}});let Se=new q(30,10),Ze=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,_e={},Be={},Le={};let qe=(e,t)=>{let i,n,o,a,f,l,s,d,u=[],c=e,p=N(e,`mx-${t}`),b=0;if(p&&((f=Se.get(p))||(f={v:(f=p.match(Ze)||r)[1],n:f[2],i:f[3]},Se.set(p,f)),f=E({},f,{r:p})),f&&!f.v||Be[t]){if(!(d=c.c)){for(s=[c];c!=h&&(c=c.parentNode);){if(Oe[n=c.b]||(n=c.c)){d=n;break}s.push(c)}if(d)for(p of s)p.c=d}if(d){c=e.b,Oe[c]&&(b=d=c);do{if((i=Oe[d])&&(l=i.b)){if(a=(o=l.i)[t])for(c=a.length;c--;)o={r:n=a[c],v:d,n:n},n?!b&&e.matches(n)&&u.push(o):b&&u.unshift(o);if(l.tmpl&&!b)break;b=0}}while(i&&(d=i.pId))}}return f&&u.push(f),u},He=e=>{let t,r,i,n,o,a,f,l,{target:s,type:h}=e,d=[];for(;s&&1==s.nodeType&&!(e.cancelBubble||(r=s.d)&&r[h]);){if(d.push(s),(t=qe(s,h)).length){d=[];for(let{v:r,r:d,n:u,i:p}of t){if(f!=r){if(f&&e.cancelBubble)break;f=r}if(!(n=(i=Oe[r])&&i.b))break;n.h&&(a=n[o=u+c+h])&&(e.eventTarget=s,l=p?z(p,n.d):Le,e[b]=l,Z(a,e,n))}}s=s.parentNode}for(f of d)(r=f.d||(f.d={}))[h]=1},Pe=(e,t,r)=>{let i=0|_e[e],n=r?-1:1;i&&r!==i||(r?W:M)(h,e,He),_e[e]=i+n,t&&(Be[e]=(0|Be[e])+n)};let Re={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},Me=/[&<>"'\`]/g,We=e=>null==e?t:t+e,De=e=>Re[e],Fe=e=>We(e).replace(Me,De),Je={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Qe=e=>Je[e],ze=/[!')(*]/g,Ge=e=>f(We(e)).replace(ze,Qe),Ke=/[\\'"]/g,Xe=e=>We(e).replace(Ke,"\\$&"),Ye=(e,t,r)=>(e[r]=t,r),et=(e,t)=>{if(e.b&&(t=e.tmpl)){let r,i=e.j,n=e.id,o=Oe[n],a={a:[]},f=e.f,l=e.d;for(r of(e.k=0,e.j={},e.fire("dompatch"),r=t(f,tt,n,We,Ge,l,Ye,Xe,y),ft(e.root,e.l,r,a,o,i),e.l=r,t=a.b||!e.h,a.a))Y(dt,[r]);t&&e.endUpdate(),e.fire("domready")}},tt=(e,r,i,n)=>{let o;if(e){r=r||{};let a,f,l,s,h,d,u=t,c={},p="<"+e,b=t,m=[];if(i)for(s of i)l=s.a,s.b==nt&&(l=l?Fe(l):" "),b+=l,d&&s.b==nt&&d.b==nt?d.a+=s.a:(s.d&&(c[s.d]=(c[s.d]||0)+1),s.e&&(a=1),d=s,m.push(s));for(f in r)!1!==(l=r[f])&&null!=l?(!0===l&&(r[f]=l=t),"id"==f?u=l:"mx-view"==f&&l&&!u?u=F(l).path:"_"!=f||u?"$"==f&&(a=1):u=l,"value"==f&&"textarea"==e?b=l:_(it,f)||(p+=` ${f}="${l&&Fe(l)}"`)):delete r[f];h=p,o={a:p+=n?"/>":`>${b}</${e}>`,c:b,d:u,b:e,e:a||_(rt,e),f:h,g:r,h:m,i:c,j:n}}else o={b:r?c:nt,a:i+t};return o},rt={input:{value:1,checked:1},textarea:{value:1},option:{selected:1}},it={_:1,$:1};let nt=e;let ot=(e,r,i,n)=>{let o,a,f=0,l=rt[r.b],s=i.g,h=r.g;if(n){if(r)for(o in h)_(l,o)||_(s,o)||(f=1,e.removeAttribute(o));for(o in s)_(l,o)||_(it,o)||(a=s[o],r&&h[o]===a||(f=1,e.setAttribute(o,a)))}for(o in l)a=_(s,o)?"value"!=o||s[o]:"value"==o&&t,e[o]!=a&&(f=1,e[o]=a);return f&&delete e.d,f},at=(e,t)=>{let r,i=e.b;return i==nt?r=o.createTextNode(e.a):(r=o.createElementNS(t.namespaceURI,i),ot(r,0,e,1),V(r,e.c)),r},ft=(e,t,r,i,n,o)=>{if(t){if(t.e||t.c!=r.c){let a,f,l,s,h,d,u=t.h,p=r.h,b=u.length,m=p.length,g=r.i,w=e.childNodes,v={},y=0;for(a=b;a--;)(h=(l=u[a]).d)&&(h=v[h]||(v[h]=[])).push(w[a]);for(a=0;a<m;a++)if(s=p[a],l=u[y++],(h=v[s.d])&&(h=h.pop())){if(h!=w[a]){for(f=y,d=1;f<b;f++,d++)if((l=u[f])&&w[a+d]==h){u.splice(f,1),y--;break}e.insertBefore(h,w[a])}g[l.d]&&g[l.d]--,lt(h,e,l,s,i,n,o)}else l?v[l.d]&&g[l.d]?(b++,i.b=1,e.insertBefore(at(s,e),w[a]),y--):lt(w[a],e,l,s,i,n,o):(s.b==c?V(e,s.a):e.appendChild(at(s,e)),i.b=1);for(a=m;a<b;a++)1==(f=w[m]).nodeType&&n.unmountZone(f),e.removeChild(f)}}else i.b=1,V(e,r.c)},lt=(e,t,r,i,n,o,a)=>{let f=r.g,l=i.g,s=r.b;if(r.e||r.a!=i.a)if(s==c)n.b=1,V(t,i.a);else if(s==i.b){if(s==nt)n.b=1,e.nodeValue=i.a;else if(!f._||f._!=l._){let t,h,d,u,c,p,m,g=l["mx-view"],w=i.c,v=r.f!=i.f,y=_(rt,s)||v,k=Oe[e.b],x=g&&F(g);if(y&&(y=ot(e,r,i,v))&&(n.b=1),g&&k&&k.h==x.path&&(u=k.b)){if(p=w!=r.c,m=g!=k.path,d=f.$,!p&&!m&&d)for(d of c=d.split(","))if("#"==d||_(a,d)){m=1;break}(m||p)&&((d=u.h&&u.m)?(c=x[b],Ee(k.pId,g,c),k.path=g,Z(d,c,u)&&(u.n++,n.a.push(u)),t=!u.tmpl):(h=1,t=1))}else t=1,h=k;h&&(n.b=1,k.unmountVframe()),t&&!i.j&&ft(e,r,i,n,o,a)}}else n.b=1,o.unmountZone(e),t.replaceChild(at(i,t),e)},st=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,ht=(e,t,r)=>(e.a?r=e:((r=function(e){Z(r.a,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),dt=e=>{e.n&&e.n--,e.b&&!e.n&&Z(e.c,r,e)},ut=(e,t)=>{let r,{o:i,i:n,p:o,id:a}=e;for(r in i)Pe(r,n[r],t);for(r of(i=t?W:M,o))i(r.a,r.b,r.c,a,r.d,e)},ct={win:i,doc:o},pt=(e,t,r)=>{let i,n,o,a,f={};for(n of e)for(i in n)o=n[i],a=f[i],"ctor"!=i?(st.test(i)&&(a?o=ht(a,o):o.b=1),f[i]=o):r.push(o);for(i in f)_(t,i)||(t[i]=f[i])};function bt(...e){let t=this.a||(this.a=[]);return pt(e,this[p],t),this}let mt=e=>{if(!e[c]){e[c]=[];let t,r,i,n,o,a,f,l,s,h,d,u=e[p],b={},m=[],g={};for(f in(r=u.mixins)&&pt(r,u,e[c]),u)if(t=u[f],r=f.match(st)){if([,a,i,n,d]=r,h={},d)for(l of d=d.split(","))h[l]=!0;for(l of n=n.split(",")){if(o=ct[i],s=1,a){if(o){m.push({c:t,a:o,b:l,d:h});continue}s=2,(o=g[l])||(o=g[l]=[]),o[i]||(o[i]=1,o.push(i))}b[l]=b[l]|s,(o=u[l=i+c+l])?o.b&&(t.b?u[l]=ht(t,o):_(u,f)&&(u[l]=t)):u[l]=t}}u.c=u.render,u.o=b,u.p=m,u.i=g,u.m=u.assign}return e[c]};function gt(e,t,r,i,n){(n=this).root=t,n.owner=r,n.id=e,n[c]=e,n.a={c:[]},n.b=1,n.k=1,n.f={id:e},n.d={},n.j={},n.n=0,(e=gt.a)&&Z(e,i,n)}E(gt,{merge:bt,extend:function e(t,r){let i=this,n=(t=t||{}).ctor,o=[];function a(e,t,r,n,f,l,s,h){i.call(h=this,e,t,r,n,f),(l=a.a)&&Z(l,n,h),(s=o.concat(f)).length&&Z(s,n,h)}return n&&o.push(n),a.merge=bt,a.extend=e,re(a,i,t,r)}}),E(gt[p],he,{init:l,render:l,endUpdate(e,t,r,i){(t=this).b&&(i=t.h,t.h=1,(r=t.owner).mountZone(e),i||a(Ae,0,r))},observeLocation(e,r){let i;(i=this.a).a=1,v(e)&&(r=e.path,e=e[b]),i.b=r,e&&(i.c=(e+t).split(","))},get(e,t){return t=this.f,e&&(t=t[e]),t},set(e,t){let r,i,n,o=this,a=o.f,f=o.j,l=o.k;for(n in e)r=e[n],i=a[n],I(r)&&i===r||_(t,n)||(f[n]=1,l=1),a[n]=r;return o.k=l,o},digest(e,t){let r=this.set(e,t);r.k&&et(r)},snapshot(){return this.r=s(this.f),this},altered(){let e=this;if(e.r)return e.r!=s(e.f)},parse(e){return z(e,this.d)}});let wt=0;export default{config:(e,t)=>(t=j,e&&(t=v(e)?E(t,e):t[e]),t),boot(e){E(j,e),Ve.on("changed",Ie),wt=1,M(i,"hashchange",xe),xe()},toMap:(e,t)=>{let r,i={};if(e)for(r of e)i[t&&r?r[t]:r]=t?r:1+(0|i[r]);return i},toTry:Z,toUrl:J,parseUrl:F,guid:k,use:ee,dispatch:(e,t,r)=>{let i=new Event(t,P);E(i,r),e.dispatchEvent(i)},guard:ie,type:w,has:_,inside:O,applyStyle:S,Cache:q,View:gt,Vframe:Ne,Event:he,Router:Ve,mark:(e,t,r,i,n)=>(e[n=c+"a"]||(r=e[n=c+"b"]||(e[n]={}),_(r,t)||(r[t]=0),i=++r[t]),r=>(r=e[n],r&&i===r[t])),node:x,task:Y};